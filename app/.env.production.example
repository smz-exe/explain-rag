# ExplainRAG Production Environment Variables
# Copy this file and fill in your values

# =============================================================================
# REQUIRED - Application will fail to start without these
# =============================================================================

# Anthropic API key for Claude LLM
# Get from: https://console.anthropic.com/
ANTHROPIC_API_KEY=sk-ant-api03-...

# JWT secret for authentication (min 32 characters)
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
JWT_SECRET_KEY=your-secure-jwt-secret-at-least-32-chars

# Admin password hash (bcrypt)
# Generate with: python -c "import bcrypt; print(bcrypt.hashpw(b'your-password', bcrypt.gensalt(12)).decode())"
ADMIN_PASSWORD_HASH=$2b$12$...

# Database URL (Supabase PostgreSQL connection string)
# Get from: Supabase Dashboard > Settings > Database > Connection string
DATABASE_URL=postgresql://postgres.[project-ref]:[password]@aws-0-[region].pooler.supabase.com:6543/postgres

# =============================================================================
# OPTIONAL - Defaults are suitable for most deployments
# =============================================================================

# Claude model configuration
CLAUDE_MODEL=claude-sonnet-4-5-20250929
CLAUDE_MAX_TOKENS=4096

# Embedding and reranker models (cached in Docker image)
EMBEDDING_MODEL=all-MiniLM-L6-v2
RERANKER_MODEL=cross-encoder/ms-marco-MiniLM-L-6-v2

# Retrieval settings
CHUNK_SIZE=1000
CHUNK_OVERLAP=200
DEFAULT_TOP_K=10

# Server settings
ENVIRONMENT=production
API_HOST=0.0.0.0
API_PORT=8000

# CORS - Update with your Vercel domain
CORS_ORIGINS=["https://your-app.vercel.app"]

# Model loading
PRELOAD_MODELS=true
HF_OFFLINE_MODE=true

# Database pool settings
DATABASE_POOL_MIN=2
DATABASE_POOL_MAX=10
